
@layer components {
  /** Smoke effect container */
  .smoke-container {
    @apply relative min-h-full;
  }

  .smoke-enter-layer {
    @apply absolute inset-0 pointer-events-none z-50;
  }

  /** Smoke-in keyframes and utility */
  @keyframes smokeIn {
    0% {
      opacity: 0;
      filter: blur(8px);
      transform: scale(0.96);
    }
    50% {
      opacity: 0.6;
      filter: blur(2px);
      transform: scale(0.99);
    }
    100% {
      opacity: 1;
      filter: blur(0);
      transform: scale(1);
    }
  }

  .animate-smoke-in {
    animation: smokeIn 0.8s ease-out forwards;
    will-change: opacity, transform, filter;
  }

  /** Logo particle transition */
  .logo-particle {
    transform-origin: center;
    will-change: transform, opacity;
    transition: transform 1.8s cubic-bezier(0.215,0.61,0.355,1), opacity 1.8s cubic-bezier(0.215,0.61,0.355,1);
  }

  /** 3D logo container */
  .logo-3d-effect-container {
    @apply relative;
    perspective: 1000px;
    transform-style: preserve-3d;
    will-change: transform;
  }

  /** Smoke particle float animation */
  @keyframes smoke-float {
    0% {
      opacity: 0;
      transform: translateY(0) scale(1) rotate(0deg);
      filter: blur(4px);
    }
    50% {
      opacity: 0.7;
      transform: translateY(-25px) scale(1.4) rotate(7deg);
      filter: blur(6px);
    }
    100% {
      opacity: 0;
      transform: translateY(-50px) scale(1.8) rotate(12deg);
      filter: blur(10px);
    }
  }

  .smoke-particle {
    @apply absolute rounded-full;
    animation: smoke-float 2.2s ease-out forwards;
    will-change: transform, opacity, filter;
  }

  /** Reveal animations */
  .reveal {
    opacity: 0;
    transform: translateY(1rem);
    transition: transform 1.5s ease-out, opacity 0.5s ease-out;
  }

  .reveal.active {
    opacity: 1;
    transform: translateY(0);
  }
  
  /** Animation de transition pour les éléments parallax lors des changements de route */
  @keyframes route-change-float {
    0% {
      transform: translateY(0) scale(1) rotate(0deg);
      filter: blur(0px);
    }
    50% {
      transform: translateY(-40px) scale(1.1) rotate(5deg);
      filter: blur(3px);
    }
    100% {
      transform: translateY(0) scale(1) rotate(0deg);
      filter: blur(0px);
    }
  }
  
  .route-change-transition {
    animation: route-change-float 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: transform, filter, opacity;
    z-index: 100 !important;
  }
  
  .parallax-element {
    transition: opacity 0.5s ease-out;
    will-change: transform, opacity, filter;
  }
  
  /** Animation plus intense pour les transitions de page */
  @keyframes page-transition-splash {
    0% {
      transform: translateY(0) scale(1) rotate(0deg);
      filter: blur(0px);
      opacity: 0.8;
    }
    20% {
      transform: translateY(-75px) scale(1.3) rotate(-5deg);
      filter: blur(5px);
      opacity: 1;
    }
    60% {
      transform: translateY(-100px) scale(1.5) rotate(5deg);
      filter: blur(8px);
      opacity: 0.8;
    }
    100% {
      transform: translateY(0) scale(1) rotate(0deg);
      filter: blur(0px);
      opacity: 0.8;
    }
  }
  
  .page-transition {
    animation: page-transition-splash 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    z-index: 110 !important;
  }
  
  /* Suppression des cadres autour des titres */
  .section-title,
  .page-title,
  h1, h2, h3, h4, h5, h6 {
    background-color: transparent;
    border: none !important;
    box-shadow: none !important;
  }
}
